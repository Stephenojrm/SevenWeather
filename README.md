SevenWeather
=======

</br>简介
----------
这是买的**郭霖**大神巨作《**第一行代码**》14章的一个小项目，原版叫***酷欧天气***只是稍微在UI上做了一点更改。

</br>功能
--------
**1**.有网络情况下打开程序自动刷新天气情况，无网络则读取已经缓存到本地的天气情况。
**2**.后台每一个小时都会进行天气的刷新（有网的情况下）

</br>知识点
---------

***1.UI部分***
      **由于API接口失效加上新的API调用次数到达上限，所以UI无法展示**
      (1)  主界面一个简单的**ListView**，适配器是**ArrayAdapter**，上面展示全国可供查询的省市县的名称
      (2)  在选择要查询的城市后查询成功后跳转到天气界面，天气界面用到**SwipeRefreshLayout**，此控件只能包含一个直接的子控件

***2.数据存储***
    本例中用到的是**sqlite**数据库和**SharedPreference**进行数据存储

***3.网络请求***
    网络请求直接用的是**HttpURLConnection**

***4.Json数据解析***
  **JsonObject**和**JsonArray**

***5.定时后台刷新天气***
用到**Service**，在第一次成功刷新天气情况后，自动开启服务，利用**AlarmManager**定时，在一小时后利用**PendingIntent**启动**BroadCastReceiver**，在广播接收器里启动服务进行天气状况的缓存，便于在没有网的情况下用户看到的UI是最新的。


写在最后
==========================================================================================================
这个项目本来想多改改的，然而接口一直找不到实惠的，最后无可奈何，善事没有善终！！！！以后会多多上[GitHub](https://github.com/)向各位大V学习。
